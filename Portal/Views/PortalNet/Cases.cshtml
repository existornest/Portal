@using EarlyBoundTypes
@using Portal.Models
@using Portal.Library.Helpers
@model Portal.Models.IncidentModel

@{
    Layout = "~/Views/Shared/_LayoutCase.cshtml";
}

@{
    ViewBag.Title = "Cases";
}



@{
    int counter = 1;
}


<div class="row">

    <div class="col-md-10 col-md-offset-1">

        <h2>Lista spraw</h2>

    </div>

</div>

<div class="row">
    <div class="col-md-10 col-md-offset-1">

        <table class="table table-bordered table-responsive" style="margin-bottom: 20px;">
            <thead>
                <tr>
                    <td>
                        Nr
                    </td>
                    <td>
                        Klient
                    </td>
                    <td>
                        Numer sprawy
                    </td>
                    <td>
                        Stan sprawy
                    </td>
                    <td>
                        Data utworzenia
                    </td>
                    <td>
                        Data ostatniego działania
                    </td>
                </tr>
            </thead>

            <tbody>

                @foreach (IncidentObject incident in Model.IncidentModelList)
                {
                    <tr>
                        <td>
                            @counter
                        </td>
                        <td>
                            @Html.ActionLink(incident.Client, "SingleCase", "PortalNet", new { caseID = incident.ID, client = incident.Client }, null)
                        </td>
                        <td>
                            @incident.Ticket
                        </td>
                        <td>


                            @incident.State
                        </td>
                        <td>
                            @incident.DateCreated
                        </td>
                        <td>
                            @incident.LastActionDate
                        </td>
                    </tr>

                    
                        counter++;
                   
                        }

                

            </tbody>

        </table>

    </div>
</div>

